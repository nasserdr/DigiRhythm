<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Reads Raw Activity Data from csv files — import_raw_activity_data • digiRhythm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reads Raw Activity Data from csv files — import_raw_activity_data"><meta name="description" content="Reads Activity Data (data, time, activity(ies)) from a CSV file where we can
skip some lines (usually representing the metadata) and select specific
activities."><meta property="og:description" content="Reads Activity Data (data, time, activity(ies)) from a CSV file where we can
skip some lines (usually representing the metadata) and select specific
activities."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">digiRhythm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Actgram_diurnality_avg_activity.html">Visualizing actograms, average activity and diurnality index</a></li>
    <li><a class="dropdown-item" href="../articles/DFC_and_HP_and_changing_plots.html">Computing the DFC/HP and manipulating the functions returned objects</a></li>
    <li><a class="dropdown-item" href="../articles/Loading_and_preprocessing_data_in_DigiRhythm.html">Loading and preprocessing data in DigiRhythm</a></li>
    <li><a class="dropdown-item" href="../articles/Visualisation.html">Further options of visualization in DigiRhythm</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Reads Raw Activity Data from csv files</h1>

      <div class="d-none name"><code>import_raw_activity_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads Activity Data (data, time, activity(ies)) from a CSV file where we can
skip some lines (usually representing the metadata) and select specific
activities.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_raw_activity_data</span><span class="op">(</span></span>
<span>  <span class="va">filename</span>,</span>
<span>  skipLines <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  act.cols.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Motion Index"</span>, <span class="st">"Steps"</span><span class="op">)</span>,</span>
<span>  date_format <span class="op">=</span> <span class="st">"%d.%m.%Y"</span>,</span>
<span>  time_format <span class="op">=</span> <span class="st">"%H:%M:%S"</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">","</span>,</span>
<span>  original_tz <span class="op">=</span> <span class="st">"CET"</span>,</span>
<span>  target_tz <span class="op">=</span> <span class="st">"CET"</span>,</span>
<span>  sampling <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  trim_first_day <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  trim_middle_days <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  trim_last_day <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>The file name (full or relative path with extension)</p></dd>


<dt id="arg-skiplines">skipLines<a class="anchor" aria-label="anchor" href="#arg-skiplines"></a></dt>
<dd><p>The number of non-useful lines to skip (lines to header)</p></dd>


<dt id="arg-act-cols-names">act.cols.names<a class="anchor" aria-label="anchor" href="#arg-act-cols-names"></a></dt>
<dd><p>A vector containing the names of columns to read
(specific to the activity columns)</p></dd>


<dt id="arg-date-format">date_format<a class="anchor" aria-label="anchor" href="#arg-date-format"></a></dt>
<dd><p>The POSIX format of the Date column (or first column)</p></dd>


<dt id="arg-time-format">time_format<a class="anchor" aria-label="anchor" href="#arg-time-format"></a></dt>
<dd><p>The POSIX format of the Time column (or second column)</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p>The delimiter/separator between the columns</p></dd>


<dt id="arg-original-tz">original_tz<a class="anchor" aria-label="anchor" href="#arg-original-tz"></a></dt>
<dd><p>The time zone with which the datetime are encoded</p></dd>


<dt id="arg-target-tz">target_tz<a class="anchor" aria-label="anchor" href="#arg-target-tz"></a></dt>
<dd><p>The time zone with which you want to process the data.
Setting this argument to 'GMT' will help you coping with daylight saving time
where changes occur two time a year.</p></dd>


<dt id="arg-sampling">sampling<a class="anchor" aria-label="anchor" href="#arg-sampling"></a></dt>
<dd><p>The sampling frequency in minutes (default 15 min)</p></dd>


<dt id="arg-trim-first-day">trim_first_day<a class="anchor" aria-label="anchor" href="#arg-trim-first-day"></a></dt>
<dd><p>if True, removes the data from the first day if it
contains less than 80% of the expected data points.</p></dd>


<dt id="arg-trim-middle-days">trim_middle_days<a class="anchor" aria-label="anchor" href="#arg-trim-middle-days"></a></dt>
<dd><p>if True, removes the data from the MIDDLE days if
they contain less than 80% of the expected data points.</p></dd>


<dt id="arg-trim-last-day">trim_last_day<a class="anchor" aria-label="anchor" href="#arg-trim-last-day"></a></dt>
<dd><p>if True, removes the data from the last day if it
contains less than 80% of the expected data points.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>print out some useful information during the execution
of the function</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataframe with datetime column and other activity columns, ready to
be used with other functions in digirhythm</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function prepare the data stored in a csv to be compatible with the
digiRhythm package. You have the possibility to skip the first lines and
choose which columns to read. You also have the possibility to sample the
data.
You can also choose whether to remove partial days (where no data over a
full day is present) by trimming last, middle or last days.
This function expects that the first and second columns are respectively
date and time where the format should be mentioned.</p>
<p>file &lt;- file.path('data', 'sample_data')
colstoread &lt;- c("Date", "Time", "Motion Index", 'Steps') #The colums that we
are interested in
data &lt;- improt_raw_icetag_data(filename = file,
skipLines = 7,
act.cols.names = colstoread,
sampling = 15,
verbose = TRUE)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample_data.csv"</span>, package <span class="op">=</span> <span class="st">"digiRhythm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">import_raw_activity_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">filename</span>,</span></span>
<span class="r-in"><span>  skipLines <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  act.cols.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Motion Index"</span>, <span class="st">"Steps"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  sep <span class="op">=</span> <span class="st">","</span>,</span></span>
<span class="r-in"><span>  original_tz <span class="op">=</span> <span class="st">"CET"</span>,</span></span>
<span class="r-in"><span>  target_tz <span class="op">=</span> <span class="st">"CET"</span>,</span></span>
<span class="r-in"><span>  date_format <span class="op">=</span> <span class="st">"%d.%m.%Y"</span>,</span></span>
<span class="r-in"><span>  time_format <span class="op">=</span> <span class="st">"%H:%M:%S"</span>,</span></span>
<span class="r-in"><span>  sampling <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>  trim_first_day <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  trim_middle_days <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  trim_last_day <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Reading the CSV file /home/runner/work/_temp/Library/digiRhythm/extdata/sample_data.csv"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Removing the following columns because they are not numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "First data points ... "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              datetime Motion.Index Steps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-04-30 11:19:47            0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-04-30 11:20:00            6     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-04-30 11:21:00            0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Last data point ... "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              datetime Motion.Index Steps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-05-16 06:08:00            0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-05-16 06:07:00            0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-05-16 06:06:00            0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Minimum Required number of samples per day 76"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Returning a data frame with datetime colum and 2 variable colums"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Total number of samples is 1440 - Total number of days is 15"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              datetime Motion.Index Steps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2020-05-01 00:00:00           47    22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2020-05-01 00:15:00            8     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2020-05-01 00:30:00           43    14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2020-05-01 00:45:00            5     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2020-05-01 01:00:00            3     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2020-05-01 01:15:00            0     0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hassan-Roland Nasser, Marie Schneider, Joanna Stachowicz, Christina Umstaetter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

